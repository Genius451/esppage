<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMP180 Sensor Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center p-4">

      <!-- Back Button -->
    <div class="w-full max-w-6xl mb-4">
        <a href="/mainpage.html" class="inline-block px-4 py-2 bg-gray-300 text-gray-800 rounded-xl hover:bg-gray-400 transition">
            ← Back
        </a>
    </div>

    <!-- Page Title -->
    <h1 class="text-3xl sm:text-4xl font-bold mb-6 text-gray-800 text-center">
        BMP180 Sensor Dashboard
    </h1>

    <!-- Sensor Cards -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 w-full max-w-6xl">
        <!-- Temperature Card -->
        <div class="bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center">
            <h2 class="text-xl font-semibold mb-2 text-gray-700">Temperature</h2>
            <p id="temperature" class="text-4xl sm:text-5xl font-bold text-red-500">-- °C</p>
        </div>

        <!-- Pressure Card -->
        <div class="bg-white rounded-2xl shadow-lg p-6 flex flex-col items-center">
            <h2 class="text-xl font-semibold mb-2 text-gray-700">Pressure</h2>
            <p id="pressure" class="text-4xl sm:text-5xl font-bold text-green-500">-- hPa</p>
        </div>
    </div>

    <!-- Chart Section -->
    <div class="bg-white rounded-2xl shadow-lg p-6 mt-8 w-full max-w-6xl">
        <h2 class="text-2xl font-semibold mb-4 text-gray-700 text-center">Sensor Data Over Time</h2>
        <div class="w-full" style="height: 300px; max-height: 50vh;">
            <canvas id="sensorChart"></canvas>
        </div>
    </div>

    <script>
        // Chart.js setup
        const ctx = document.getElementById('sensorChart').getContext('2d');
        const sensorChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['0s', '10s', '20s', '30s', '40s', '50s'],
                datasets: [
                    {
                        label: 'Temperature (°C)',
                        data: [22, 22.5, 23, 22.8, 23.2, 23],
                        borderColor: 'rgb(239, 68, 68)',
                        backgroundColor: 'rgba(239, 68, 68, 0.2)',
                        tension: 0.4
                    },
                    {
                        label: 'Pressure (hPa)',
                        data: [1012, 1011, 1013, 1012, 1014, 1013],
                        borderColor: 'rgb(34, 197, 94)',
                        backgroundColor: 'rgba(34, 197, 94, 0.2)',
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom' } },
                scales: { y: { beginAtZero: false } }
            }
        });

        // Simulate sensor updates
        function updateSensorValues() {
            document.getElementById('temperature').innerText = (22 + Math.random()*2).toFixed(1) + ' °C';
            document.getElementById('pressure').innerText = (1012 + Math.random()*3).toFixed(1) + ' hPa';
        }
        setInterval(updateSensorValues, 2000);
    </script>
</body>
</html>
